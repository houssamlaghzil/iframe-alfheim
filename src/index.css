@import "tailwindcss";

/* Global theme tokens (Tailwind v4) */
@theme {
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  --color-bg: #0b0b1b;
  --color-surface: #13132b;
  --color-surface-2: #1a1a36;
  --color-border: #2a2a52;
  --color-muted: #9aa0b3;
  --color-primary: #6e59ff; /* violet */
  --color-primary-600: #5b4bff;
  --color-primary-500: #7c6dff;
  --color-accent: #38bdf8; /* sky */
}

@layer base {
  html, body { @apply bg-[--color-bg] text-gray-100 antialiased; font-family: var(--font-sans); }
  ::selection { @apply bg-violet-500/30 text-white; }
  a { @apply text-[--color-accent] hover:text-[--color-primary-500] transition-colors; }
}

@layer components {
  /* Buttons */
  .btn-primary { @apply inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg
    bg-[--color-primary] hover:bg-[--color-primary-600] text-white font-medium
    shadow-[0_10px_30px_-10px_rgba(94,92,230,0.6)] transition-all active:scale-[0.98]
    focus:outline-none focus:ring-2 focus:ring-[--color-primary] focus:ring-offset-2 focus:ring-offset-transparent; }

  .btn-ghost { @apply inline-flex items-center justify-center gap-2 px-3 py-2 rounded-lg
    bg-white/5 hover:bg-white/10 text-gray-100 border border-white/10 transition-colors; }

  /* Inputs */
  .input { @apply w-full rounded-lg px-3 py-2 bg-[--color-surface] border border-[--color-border]
    text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[--color-primary] focus:border-transparent; }

  /* Card and glass surfaces */
  .glass { @apply bg-white/10 backdrop-blur-md border border-white/10; }
  .card { @apply rounded-2xl glass shadow-[0_8px_40px_-18px_rgba(0,0,0,0.5)] overflow-hidden transition-all; }

  /* Overlays */
  .overlay-gradient { @apply absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent; }

  /* Chat bubbles */
  .bubble { @apply max-w-[80%] whitespace-pre-wrap rounded-2xl px-3 py-2 text-sm; }
  .bubble-user { @apply bubble bg-[--color-primary] text-white shadow; }
  .bubble-ai { @apply bubble bg-white/10 text-gray-100 border border-white/10; }

  /* POI popup restyle (glass + subtle border) */
  .poi-popup { @apply relative w-64 glass text-gray-100 p-4 rounded-xl shadow-xl space-y-3; }
  .poi-popup .input { @apply input text-sm; }
}

@layer utilities {
  .page { padding-top: calc(4rem + env(safe-area-inset-top)); }
  .hover-zoom { @apply transition-transform duration-300 will-change-transform group-hover:scale-[1.03]; }
  .brand-gradient-text { @apply bg-gradient-to-r from-[--color-primary] to-[--color-accent] bg-clip-text text-transparent; }

  /* Simple appear animations */
  @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
  .animate-fade-in { animation: fadeIn 300ms ease-out both; }

  @keyframes typing { 0%{opacity:.2} 50%{opacity:1} 100%{opacity:.2} }
  .dot { animation: typing 1s infinite; }
}
